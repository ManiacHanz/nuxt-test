(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{187:function(t,e,r){"use strict";r.d(e,"d",(function(){return c})),r.d(e,"c",(function(){return o})),r.d(e,"f",(function(){return l})),r.d(e,"g",(function(){return f})),r.d(e,"h",(function(){return v})),r.d(e,"e",(function(){return d})),r.d(e,"a",(function(){return m})),r.d(e,"i",(function(){return _})),r.d(e,"b",(function(){return h}));var n=r(61),c=function(t){var e="personal"===(t=JSON.parse(JSON.stringify(t))).tab?"/api/articles/feed":"/api/articles";return Object(n.b)({url:e,params:t})},o=function(t){return Object(n.b)({url:"/api/articles/".concat(t)})},l=function(t){return Object(n.b)({url:"/api/tags"})},f=function(t){return n.b.post({url:"/api/articles/".concat(t,"/favorite")})},v=function(t){return n.b.delete({url:"/api/articles/".concat(t,"/favorite")})},d=function(t){return Object(n.b)({url:"/api/articles/".concat(t,"/comments")})},m=function(t,body){return n.b.post({url:"/api/articles/".concat(t,"/comments"),data:{comment:{body:body}}})},_=function(data,t){var e=t?"/api/articles/${slug}":"/api/articles";return n.b.post({url:e,data:data})},h=function(t){return n.b.delete({url:"/api/articles/".concat(t)})}},193:function(t,e,r){var n=r(28),c=r(79),o=r(31),l=r(16),f=r(203);t.exports=function(t,e){var r=1==t,v=2==t,d=3==t,m=4==t,_=6==t,h=5==t||_,C=e||f;return function(e,f,x){for(var y,k,N=o(e),I=c(N),A=n(f,x,3),w=l(I.length),E=0,O=r?C(e,w):v?C(e,0):void 0;w>E;E++)if((h||E in I)&&(k=A(y=I[E],E,N),t))if(r)O[E]=k;else if(k)switch(t){case 3:return!0;case 5:return y;case 6:return E;case 2:O.push(y)}else if(m)return!1;return _?-1:d||m?m:O}}},202:function(t,e,r){"use strict";var n=r(6),c=r(193)(6),o="findIndex",l=!0;o in[]&&Array(1)[o]((function(){l=!1})),n(n.P+n.F*l,"Array",{findIndex:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}}),r(78)(o)},203:function(t,e,r){var n=r(204);t.exports=function(t,e){return new(n(t))(e)}},204:function(t,e,r){var n=r(13),c=r(124),o=r(2)("species");t.exports=function(t){var e;return c(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!c(e.prototype)||(e=void 0),n(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},205:function(t,e,r){"use strict";var n=r(6),c=r(193)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),n(n.P+n.F*o,"Array",{find:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}}),r(78)("find")},206:function(t,e,r){"use strict";var n=r(4),c=r(24),o=r(29),l=r(125),f=r(62),v=r(12),d=r(51).f,m=r(63).f,_=r(10).f,h=r(207).trim,C=n.Number,x=C,y=C.prototype,k="Number"==o(r(80)(y)),N="trim"in String.prototype,I=function(t){var e=f(t,!1);if("string"==typeof e&&e.length>2){var r,n,c,o=(e=N?e.trim():h(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(r=e.charCodeAt(2))||120===r)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:n=2,c=49;break;case 79:case 111:n=8,c=55;break;default:return+e}for(var code,l=e.slice(2),i=0,v=l.length;i<v;i++)if((code=l.charCodeAt(i))<48||code>c)return NaN;return parseInt(l,n)}}return+e};if(!C(" 0o1")||!C("0b1")||C("+0x1")){C=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof C&&(k?v((function(){y.valueOf.call(r)})):"Number"!=o(r))?l(new x(I(e)),r,C):I(e)};for(var A,w=r(7)?d(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;w.length>E;E++)c(x,A=w[E])&&!c(C,A)&&_(C,A,m(x,A));C.prototype=y,y.constructor=C,r(14)(n,"Number",C)}},207:function(t,e,r){var n=r(6),c=r(30),o=r(12),l=r(208),f="["+l+"]",v=RegExp("^"+f+f+"*"),d=RegExp(f+f+"*$"),m=function(t,e,r){var c={},f=o((function(){return!!l[t]()||"​"!="​"[t]()})),v=c[t]=f?e(_):l[t];r&&(c[r]=v),n(n.P+n.F*f,"String",c)},_=m.trim=function(t,e){return t=String(c(t)),1&e&&(t=t.replace(v,"")),2&e&&(t=t.replace(d,"")),t};t.exports=m},208:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},268:function(t,e,r){"use strict";r.r(e);r(202),r(205),r(22),r(11),r(38);var n=r(9),c=(r(206),r(36),r(3)),article=r(187),o={name:"Index",asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var r,c,o,l,f,v,d,m,_,h,C,x,y,k,N,I;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.route.query,c=t.store.state,o=!!c.user,l=r.page,f=void 0===l?1:l,v=r.tab,d=r.tag,10,m=10*(Number(f)-1),_={limit:10,offset:m,tag:d,tab:v},e.next=8,Promise.all([Object(article.d)(_),Object(article.f)()]);case 8:return h=e.sent,C=Object(n.a)(h,2),x=C[0],y=C[1],k=x.articles,N=x.articlesCount,I=Math.ceil(N/_.limit),e.abrupt("return",{articles:k,articlesCount:N,pages:I,tags:y.tags,tab:v,tag:d,currentPage:f,hasLogin:o});case 15:case"end":return e.stop()}}),e)})))()},watchQuery:["page","tab","tag"],methods:{favorateArt:function(t){var e=this;return Object(c.a)(regeneratorRuntime.mark((function r(){var n,c,o,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n=e.articles.find((function(e){return e.slug===t}))).disabled){r.next=3;break}return r.abrupt("return");case 3:return e.$set(n,"disabled",!0),c=e.articles.findIndex((function(e){return e.slug===t})),o=n.favorited?article.h:article.g,r.prev=6,r.next=9,o(t);case 9:l=r.sent,e.articles.splice(c,1,l.article),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(6),console.log(r.t0);case 16:return r.prev=16,n.disabled=!1,r.finish(16);case 19:case"end":return r.stop()}}),r,null,[[6,13,16,19]])})))()}}},l=r(26),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home-page"},[t._m(0),t._v(" "),r("div",{staticClass:"container page"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-9"},[r("div",{staticClass:"feed-toggle"},[r("ul",{staticClass:"nav nav-pills outline-active"},[t.hasLogin?r("li",{staticClass:"nav-item"},[r("nuxt-link",{staticClass:"nav-link",class:{active:"personal"===t.tab},attrs:{to:{path:"/",query:{tab:"personal"}}}},[t._v("Your Feed")])],1):t._e(),t._v(" "),r("li",{staticClass:"nav-item"},[r("nuxt-link",{staticClass:"nav-link",class:{active:!t.tab&&!t.tag},attrs:{to:{path:"/"}}},[t._v("Global Feed")])],1),t._v(" "),t.tag?r("li",{staticClass:"nav-item"},[r("nuxt-link",{staticClass:"nav-link",class:{active:t.tag},attrs:{to:{path:"/",query:{tag:t.tag}}}},[t._v("# "+t._s(t.tag))])],1):t._e()])]),t._v(" "),t._l(t.articles,(function(article){return r("div",{key:article.slug,staticClass:"article-preview"},[r("div",{staticClass:"article-meta"},[r("nuxt-link",{attrs:{to:{name:"profile",params:{username:article.author.username}}}},[r("img",{attrs:{src:article.author.image}})]),t._v(" "),r("div",{staticClass:"info"},[r("nuxt-link",{staticClass:"author",attrs:{to:{name:"profile",params:{username:article.author.username}}}},[t._v(t._s(article.author.username))]),t._v(" "),r("span",{staticClass:"date"},[t._v(t._s(t._f("date")(article.createdAt)))])],1),t._v(" "),r("button",{staticClass:"btn btn-sm pull-xs-right",class:[article.favorited?"btn-primary":"btn-outline-primary",article.disabled?"disabled":""],on:{click:function(e){return t.favorateArt(article.slug)}}},[r("i",{staticClass:"ion-heart"}),t._v("\n              "+t._s(article.favoritesCount)+"\n            ")])],1),t._v(" "),r("nuxt-link",{staticClass:"preview-link",attrs:{to:{name:"article",params:{slug:article.slug}}}},[r("h1",[t._v(t._s(article.title))]),t._v(" "),r("p",[t._v(t._s(article.description))]),t._v(" "),r("span",[t._v("Read more...")])])],1)}))],2),t._v(" "),r("div",{staticClass:"col-md-3"},[r("div",{staticClass:"sidebar"},[r("p",[t._v("Popular Tags")]),t._v(" "),r("div",{staticClass:"tag-list"},t._l(t.tags,(function(e){return r("nuxt-link",{key:e,staticClass:"tag-default tag-pill",attrs:{to:{path:"/",query:{tag:e}}}},[t._v(t._s(e))])})),1)])])]),t._v(" "),r("nav",[r("ul",{staticClass:"pagination"},t._l(t.pages,(function(e,i){return r("li",{key:i,staticClass:"page-item",class:{active:t.currentPage==e}},[r("nuxt-link",{staticClass:"page-link ng-binding",attrs:{to:{path:"/",query:{page:e,tag:t.tag,tab:t.tab}}}},[t._v(t._s(e))])],1)})),0)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"banner"},[e("div",{staticClass:"container"},[e("h1",{staticClass:"logo-font"},[this._v("conduit")]),this._v(" "),e("p",[this._v("A place to share your knowledge.")])])])}],!1,null,null,null);e.default=component.exports}}]);